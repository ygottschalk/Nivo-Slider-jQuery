/*! (c) 2012, Dev7studios | opensource.org/licenses/MIT */
!function(I){function r(e,g){var t=I.extend({},I.fn.nivoSlider.defaults,g),n={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},a=I(e).data("nivo:vars",n).data("nivo:settings",t).addClass("nivoSlider").on("slideto.nivoslider",function(i,e){return!n.running&&!I(this).hasClass("active")&&(clearInterval(o),o="",m.attr("src",n.currentImage.getImageSrc()),n.currentSlide=e-1,void d(a,r,t,"control"))}).on("slideprev.nivoslider",function(i){return!n.running&&(clearInterval(o),o="",n.currentSlide-=2,t.onPrevSlide.call(this,n.currentSlide,n,g),void d(a,r,t,"prev"))}).on("slidenext.nivoslider",function(i){return!n.running&&(clearInterval(o),o="",t.onNextSlide.call(this,n.currentSlide,n,g),void d(a,r,t,"next"))}),r=a.children().each(function(){var i=I(this);i.is("img")||(i.is("a")&&i.addClass("nivo-imageLink").css("display","none"),i=i.find("img:first")),i.css("display","none"),n.totalSlides++});t.randomStart&&(t.startSlide=Math.floor(Math.random()*n.totalSlides)),0<t.startSlide&&(t.startSlide>=n.totalSlides&&(t.startSlide=n.totalSlides-1),n.currentSlide=t.startSlide);var i=r.eq(n.currentSlide);i.is("img")?n.currentImage=i:n.currentImage=i.find("img:first"),i.is("a")&&i.css("display","block");var m=I("<img/>").addClass("nivo-main-image").attr({src:n.currentImage.getImageSrc(),alt:n.currentImage.attr("alt")}).show().appendTo(a);function x(i){var e=a.find(".nivo-caption"),t=n.currentImage.attr("title");"undefined"!=typeof t&&""!==t?("#"===t.substr(0,1)&&(t=I(t).html()),"block"===e.css("display")?setTimeout(function(){e.html(t)},i.animSpeed):(e.html(t),e.stop().fadeIn(i.animSpeed))):e.stop().fadeOut(i.animSpeed)}I(window).resize(function(){a.find(".nivo-slice, .nivo-box").remove(),a.children("img").width(a.width()),m.attr({src:n.currentImage.getImageSrc(),alt:n.currentImage.attr("alt")}).stop().height("auto")}),a.append('<div class="nivo-caption"></div>'),x(t),t.afterInit.call(this,n.currentSlide,n,g);var o=0;if(!t.manualAdvance&&1<r.length&&(o=setInterval(function(){d(a,r,t,!1)},t.pauseTime)),t.directionNav&&a.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+t.prevText+'</a><a class="nivo-nextNav">'+t.nextText+"</a></div>").on("click","a.nivo-prevNav",function(){a.trigger("slideprev.nivoslider")}).on("click","a.nivo-nextNav",function(){a.trigger("slidenext.nivoslider")}),t.controlNav){n.controlNavEl=I('<div class="nivo-controlNav"></div>').insertAfter(a);for(var s,l=0;l<r.length;l++)t.controlNavThumbs?(n.controlNavEl.addClass("nivo-thumbs-enabled"),(s=!(s=r.eq(l)).is("img")?s.find("img:first"):s).attr("data-thumb")&&n.controlNavEl.append('<a class="nivo-control" rel="'+l+'"><img src="'+s.attr("data-thumb")+'" alt="" /></a>')):n.controlNavEl.append('<a class="nivo-control" rel="'+l+'">'+(l+1)+"</a>");n.controlNavEl.find("a:eq("+n.currentSlide+")").addClass("active"),n.controlNavEl.on("click","a",function(){a.trigger("slideto.nivoslider",[I(this).attr("rel")])})}function S(i,e,t){t.currentImage.parent().filter("a").css("display","block");for(var n=i.find('img[src="'+t.currentImage.attr("src")+'"]').not(".nivo-main-image,.nivo-control img").width(i.width()).css("visibility","hidden").show(),a=(n.parent().is("a")?n.parent():n).height(),r=0;r<e.slices;r++){var o=Math.round(i.width()/e.slices);I('<div class="nivo-slice" name="'+r+'"><img src="'+t.currentImage.getImageSrc()+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+r*o-o)+'px;" /></div>').css({left:o*r+"px",width:(r===e.slices-1?i.width()-o*r:o)+"px",height:a+"px",opacity:"0",overflow:"hidden"}).appendTo(i)}m.stop().animate({height:t.currentImage.height()},e.animSpeed)}function w(i,e,t){t.currentImage.parent().filter("a").css("display","block");for(var n=i.find('img[src="'+t.currentImage.attr("src")+'"]').not(".nivo-main-image,.nivo-control img").width(i.width()).css("visibility","hidden").show(),a=Math.round(i.width()/e.boxCols),r=Math.round(n.height()/e.boxRows),o=0;o<e.boxRows;o++)for(var s=0;s<e.boxCols;s++)I('<div class="nivo-box" name="'+s+'" rel="'+o+'"><img src="'+t.currentImage.getImageSrc()+'" style="position:absolute; width:'+i.width()+"px; height:auto; display:block; top:-"+r*o+"px; left:-"+a*s+'px;" /></div>').css({opacity:0,left:a*s+"px",top:r*o+"px",width:(s===e.boxCols-1?i.width()-a*s:a)+"px"}).appendTo(i).height(i.find('.nivo-box[name="'+s+'"] img').height());m.stop().animate({height:I(t.currentImage).height()},e.animSpeed)}function c(i){this.console&&"undefined"!=typeof console.log&&console.log(i)}t.pauseOnHover&&a.hover(function(){n.paused=!0,clearInterval(o),o=""},function(){n.paused=!1,""!==o||t.manualAdvance||(o=setInterval(function(){d(a,r,t,!1)},t.pauseTime))}),a.bind("nivo:animFinished",function(){m.attr({src:n.currentImage.getImageSrc(),alt:n.currentImage.attr("alt")}),n.running=!1,r.filter("a").css("display","none"),r.eq(n.currentSlide).filter("a").css("display","block"),""!==o||n.paused||t.manualAdvance||(o=setInterval(function(){d(a,r,t,!1)},t.pauseTime)),t.afterChange.call(this,n.currentSlide,n,g)});var d=function(o,i,s,e){var t=o.data("nivo:vars");if(t&&t.currentSlide===t.totalSlides-1&&!t.stop&&s.lastSlide.call(this,t.currentSlide,t,g),(!t||t.stop)&&!e)return!1;s.beforeChange.call(this,t.currentSlide,t,g),e||s.onNextSlide.call(this),e&&"prev"!==e&&"next"!==e||m.attr({src:t.currentImage.getImageSrc(),alt:t.currentImage.attr("alt")}),++t.currentSlide,t.currentSlide===t.totalSlides?(t.currentSlide=0,s.slideshowEnd.call(this,t.currentSlide,t,g)):t.currentSlide<0&&(t.currentSlide=t.totalSlides-1);e=i.eq(t.currentSlide);e.is("img")?t.currentImage=e:t.currentImage=e.find("img:first"),s.controlNav&&t.controlNavEl.find("a").removeClass("active").eq(t.currentSlide).addClass("active"),x(s),o.find(".nivo-slice, .nivo-box").remove();var l=s.effect,i="";"random"===s.effect&&void 0===(l=(i=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"])[Math.floor(Math.random()*(i.length+1))])&&(l="fade"),-1!==s.effect.indexOf(",")&&(i=s.effect.split(","),void 0===(l=i[Math.floor(Math.random()*i.length)])&&(l="fade")),t.currentImage.attr("data-transition")&&(l=t.currentImage.attr("data-transition")),t.running=!0;var n="",e="";if("sliceDown"===l||"sliceDownRight"===l||"sliceDownLeft"===l||"sliceUp"===l||"sliceUpRight"===l||"sliceUpLeft"===l){S(o,s,t);i=o.find(".nivo-slice");(i="sliceDownLeft"===l||"sliceUpLeft"===l||"sliceUpDownLeft"===l?i._reverse():i).each(function(i){var e=I(this);"sliceDown"===l||"sliceDownRight"===l||"sliceDownLeft"===l||("sliceUpDown"===l||"sliceUpDownRight"===l||"sliceUpDownLeft"===l)&&i%2==0?e.css({top:"0px"}):e.css({bottom:"0px"}),setTimeout(function(){e.animate({opacity:"1.0"},s.animSpeed,"",function(){i===s.slices-1&&o.trigger("nivo:animFinished")})},100+50*i)})}else if("fold"===l)S(o,s,t),o.find(".nivo-slice").each(function(i){var e=I(this),t=e.width();e.css({top:"0px",width:"0px"}),setTimeout(function(){e.animate({width:t,opacity:"1.0"},s.animSpeed,"",function(){i===s.slices-1&&o.trigger("nivo:animFinished")})},100+50*i)});else if("fade"===l)S(o,s,t),o.find(".nivo-slice:first").css({width:o.width()+"px"}).animate({opacity:"1.0"},2*s.animSpeed,"",function(){o.trigger("nivo:animFinished")});else if("slideInRight"===l)S(o,s,t),o.find(".nivo-slice:first").css({width:"0px",opacity:"1"}).animate({width:o.width()+"px"},2*s.animSpeed,"",function(){o.trigger("nivo:animFinished")});else if("slideInLeft"===l){S(o,s,t);var a=o.find(".nivo-slice:first").css({width:"0px",opacity:"1",left:"",right:"0px"}).animate({width:o.width()+"px"},2*s.animSpeed,"",function(){a.css({left:"0px",right:""}),o.trigger("nivo:animFinished")})}else if("boxRandom"===l)w(o,s,t),n=s.boxCols*s.boxRows,(e=b(o.find(".nivo-box"))).each(function(i){var e=I(this);setTimeout(function(){e.animate({opacity:"1.0"},s.animSpeed,"",function(){i===n-1&&o.trigger("nivo:animFinished")})},100+20*i)});else if("boxRain"===l||"boxRainReverse"===l||"boxRainGrow"===l||"boxRainGrowReverse"===l){w(o,s,t);var n=s.boxCols*s.boxRows,r=0,c=0,d=0,v=0,f=[];f[d]=[],e=I(".nivo-box",o),(e="boxRainReverse"===l||"boxRainGrowReverse"===l?I(".nivo-box",o)._reverse():e).each(function(){f[d][v]=I(this),++v===s.boxCols&&(v=0,f[++d]=[])});for(var u=0;u<2*s.boxCols;u++){for(var h=u,p=0;p<s.boxRows;p++)0<=h&&h<s.boxCols&&(function(i,e,t){var n=I(f[p][h]),a=n.width(),r=n.height();"boxRainGrow"!==l&&"boxRainGrowReverse"!==l||n.width(0).height(0),e===t-1?setTimeout(function(){n.animate({opacity:"1",width:a,height:r},s.animSpeed/1.3,"",function(){o.trigger("nivo:animFinished")})},100+i):setTimeout(function(){n.animate({opacity:"1",width:a,height:r},s.animSpeed/1.3)},100+i)}(c,r,n),r++),h--;c+=100}}},b=function(i){for(var e,t,n=i.length;n;e=parseInt(Math.random()*n,10),t=i[--n],i[n]=i[e],i[e]=t);return i};return this.stop=function(){I(e).data("nivo:vars").stop||(I(e).data("nivo:vars").stop=!0,c("Stop Slider"))},this.start=function(){I(e).data("nivo:vars").stop&&(I(e).data("nivo:vars").stop=!1,c("Start Slider"))},this.slideTo=function(i){I(e).trigger("slideto.nivoslider",[i])},this.slidePrev=function(){I(e).trigger("slideprev.nivoslider")},this.slideNext=function(){I(e).trigger("slidenext.nivoslider")},t.afterLoad.call(this,n,g),this}I.fn.nivoSlider=function(a){return this.each(function(i,e){var t=I(this);if(t.data("nivoslider"))return t.data("nivoslider");var n=new r(this,a);t.data("nivoslider",n)})},I.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterInit:function(){},afterLoad:function(){},onPrevSlide:function(){},onNextSlide:function(){}},I.fn._reverse=[].reverse,I.fn.getImageSrc=function(){return"undefined"!=typeof this.prop("currentSrc")?this.prop("currentSrc"):this.attr("src")}}(jQuery);
//# sourceMappingURL=jquery.nivoslider.min.js.map